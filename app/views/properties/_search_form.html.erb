<div 
  data-controller="property-search"
  data-checkin-date="<%= (Date.tomorrow).to_fs(:reservation_format) %>"
  data-checkout-date="<%= (Date.tomorrow + 1.day).to_fs(:reservation_format) %>"
  class="p-4"
>
  <div class="flex mb-4">
    <div 
      class="flex-none cursor-pointer"
      data-modal-target="closeButton"
      >
      <svg 
      xmlns="http://www.w3.org/2000/svg" 
        fill="none" 
        viewBox="0 0 24 24" 
        stroke-width="1.5" 
        stroke="currentColor" 
        class="w-6 h-6 float-left">
          <path 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          d="M6 18L18 6M6 6l12 12" />
      </svg>
    </div>
  </div>

  <%= form_with(url: properites_search_path, method: :get, local: true, class: "space-y-8 divide-y divide-gray-200 p-4") do |f| %>
    <div class="space-y-8 divide-y divide-ray-200 sm:space-y-5">
      <div class="space-y-6 sm:space-y-5">
        <div>
          <h3 class="text-lg leading-6 font-medium text-gray-900">Search for property</h3>
        </div>
        <div class="space-y-6 sm:space-y-5">
          <div class="sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5">
            <%= f.label :city, class: "block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2" %>
            <div class="mt-1 sm:mt-0 sm:col-span-2">
              <%= f.text_field :city, class: "max-w-lg block w-full shadow-sm foucs:ring-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md" %>
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5">
            <%= f.label :country_code, "Country", class: "block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2" %>
            <div class="mt-1 sm:mt-0 sm:col-span-2">
              <%= f.country_select :country_code, { priority_countries: ["US", "CA"] }, class: "max-w-lg block w-full shadow-sm foucs:ring-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md" %>
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5">
            <%= f.label :checkin_date, "Check in", class: "block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2" %>
            <div class="mt-1 sm:mt-0 sm:col-span-2">
              <%= f.text_field :checkin_date, class: "max-w-lg block w-full shadow-sm foucs:ring-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md", data: { "property-search-target": "checkin" }, required: true %>
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5">
            <%= f.label :checkout_date, "Check out", class: "block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2" %>
            <div class="mt-1 sm:mt-0 sm:col-span-2">
              <%= f.text_field :checkout_date, class: "max-w-lg block w-full shadow-sm foucs:ring-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",  data: { "property-search-target": "checkout" }, required: true %>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="pt-5">
      <div class="flex justify-end">
        <%= f.submit "Search", class: "ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-white airbnb-pinkish-gradient rounded-md cursor-pointer focus:ring-2 focus:ring-offset-2 focust:ring-indigo-500 mr-10" %>
      </div>
    </div>
  <% end %>
</div>

